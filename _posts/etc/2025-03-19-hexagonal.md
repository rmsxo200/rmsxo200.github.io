---
title:  "í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ (Hexagonal architecture)"
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨"
categories:
  - etc
---

![í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ êµ¬ì¡°](/imgs/hexagonal/hexagonal-architecture.png)  
<span style="font-size:90%;color:gray;">[ì´ë¯¸ì§€ì¶œì²˜ : https://tech.kakaobank.com/posts/2311-hexagonal-architecture-in-messaging-hub/]</span>  
  
í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ë€ `Adapter`, `Port`, `domain`ìœ¼ë¡œ êµ¬ì„±ëœ ê³„ì¸µí˜• ì•„í‚¤í…ì²˜ë‹¤.  
> ìœ„ ì´ë¯¸ì§€ì—ì„œ `Use Case`ëŠ” ë„ë©”ì¸ ì„œë¹„ìŠ¤ë¡œì§, `Entity`ëŠ” ë„ë©”ì¸ ëª¨ë¸ì— í•´ë‹¹í•œë‹¤.  
> `Ports and Adapter` ì•„í‚¤í…ì²˜Â ë¼ê³ ë„ í•œë‹¤.  
  
<br/>  
  
### ğŸŒ³ ê° ê³„ì¸µë³„ íŠ¹ì§•  
**ğŸ‹ ì–´ëŒ‘í„° ê³„ì¸µ(Adapter)**
  - ì–´ëŒ‘í„° ê³„ì¸µì€ ì™¸ë¶€ì™€ ì†Œí†µí•˜ëŠ” ê³„ì¸µì´ë‹¤.  
  - ì™¸ë¶€ì— ìš”ì²­ì„ ë°›ëŠ” `ì…ë ¥ ì–´ëŒ‘í„°(Input Adapter)`ì™€ ì™¸ë¶€ì‹œìŠ¤í…œì— ì ‘ê·¼í•˜ëŠ” `ì¶œë ¥ ì–´ëŒ‘í„°(Output Adapter)`ê°€ ë‚˜ë‰˜ì–´ ìˆë‹¤.  
    - `Input Adapter` : ì™¸ë¶€ì— ìš”ì²­ì„ ë°›ëŠ” ì–´ëí„° (ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì‹œì§€ í ë¦¬ìŠ¤ë„ˆ ë“±)  
    - `Output Adapter` : ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ìƒí˜¸ì‘ìš© (DB, ì™¸ë¶€API ë“±)  
    
**ğŸ‹ í¬íŠ¸ ê³„ì¸µ(Port)**  
  - `ì–´ëŒ‘í„° ê³„ì¸µ`ê³¼ `ë„ë©”ì¸ ê³„ì¸µ` ì‚¬ì´ `ì¤‘ê°„ ì¸í„°í˜ì´ìŠ¤` ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ê³„ì¸µì´ë‹¤.  
  - í¬íŠ¸ ê³„ì¸µì´ ë„ë©”ì¸ ê³„ì¸µì— ì ‘ê·¼í•˜ê¸°ì— ë„ë©”ì¸ ë¡œì§ì´ ì™¸ë¶€ í™˜ê²½ê³¼ ì™„ì „íˆ ë¶„ë¦¬ë˜ì–´ ì™¸ë¶€ ì‹œìŠ¤í…œì´ ë³€ê²½ë˜ì–´ë„ ë„ë©”ì¸ ë¡œì§ì— ì˜í–¥ì´ ê°€ì§€ ì•ŠëŠ”ë‹¤.  
  - `ì…ë ¥ í¬íŠ¸(Input Port)`ì™€ `ì¶œë ¥ í¬íŠ¸(Output Port)`ë¡œ ë‚˜ë‰˜ì§„ë‹¤.  
    - `Input Port` : ì™¸ë¶€ìš”ì²­ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ë‹¤.  
    - `Output Port` : ì¶œë ¥í¬íŠ¸ëŠ” ë‚´ë¶€ì—ì„œ ì™¸ë¶€ ì‹œìŠ¤í…œì„ í˜¸ì¶œí•  ë•Œ ì‚¬ìš©í•œë‹¤.  
  
**ğŸ‹ ë„ë©”ì¸ ê³„ì¸µ(Domain)**  
  - `í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§`ì„ ì²˜ë¦¬í•˜ëŠ” ê³„ì¸µì´ë‹¤.
  - ì™¸ë¶€ ì˜ì¡´ì„±ì´ ë°°ì œë˜ì–´ ì™¸ë¶€ í™˜ê²½ê³¼ `ë…ë¦½ì `ìœ¼ë¡œ ë™ì‘í•œë‹¤.  
   
> í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ì˜ ê° ê³„ì¸µì€ ìœ„ì™€ ê°™ì€ íŠ¹ì§•ì´ ìˆë‹¤.  
  
<br/>  
  
### ğŸŒ³ ë°ì´í„° íë¦„
```
ì»¨íŠ¸ë¡¤ëŸ¬(Input Adapter)  â†’  ì…ë ¥í¬íŠ¸(Input Port)  â†’  ì¶œë ¥í¬íŠ¸(Output Port)  â†’  DBì ‘ê·¼(Output Adapter)  
                                   â†“                      â†³ ì¶œë ¥í¬íŠ¸ì˜ êµ¬í˜„ì²´ëŠ” 
                       ë„ë©”ì¸ëª¨ë¸ or Servier(domain)         Output Adapterê³„ì¸µì— êµ¬í˜„ 
```
  
<br/>  
  
### ğŸŒ³ í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ   
> í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•˜ë©´ `ì €ìˆ˜ì¤€(infra ë“±)`ì˜ ë³€ê²½ì‚¬í•­ì´ `ê³ ìˆ˜ì¤€(domain)`ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê²Œ ëœë‹¤.   
> `í¬íŠ¸ ê³„ì¸µ`ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ìˆ˜í–‰ë˜ì§€ ì•Šê³  `ë„ë©”ì¸ ê³„ì¸µ`ì„ í˜¸ì¶œí•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ê¸° ë–„ë¬¸ì— ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì™„ì „íˆ ë…ë¦½ë˜ê²Œ ëœë‹¤.  
> ê·¸ë¡œ ì¸í•´ ì™¸ë¶€ `ì‹œìŠ¤í…œì˜ ë³€ê²½`ì´ ìˆì„ ê²½ìš° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ì˜í–¥ì„ ë°›ì§€ ì•Šê³  `ì–´ëŒ‘í„° ê³„ì¸µ`ë§Œ êµì²´í•˜ë©´ ëœë‹¤.  
> ì´ì²˜ëŸ¼ ë„ë©”ì¸ ë¡œì§ì„ ë³´í˜¸í•˜ê³  ê¸°ìˆ  êµì²´ê°€ ìœ ì—°í•´ì§„ë‹¤.  
> 
> í•˜ì§€ë§Œ ë„ë©”ì¸ì˜ `ìˆœìˆ˜ì„±`ì„ ìœ ì§€í•˜ë ¤ê³  ë…¸ë ¥í•˜ë©´ ì—­ìœ¼ë¡œ `ìƒì‚°ì„±`ì€ ë–¨ì–´ì§€ê²Œ ëœë‹¤.
> ì˜ˆë¥¼ ë“¤ì–´ JPAë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ë¥¼ ê°€ì •í•˜ì.  
> `ë„ë©”ì¸ ê³„ì¸µ`ì€ ë…ë¦½ì ì´ê¸°ì— `ë„ë©”ì¸ ëª¨ë¸`ê³¼ `JPA ì—”í‹°í‹°`ë¥¼ ë¶„ë¦¬í•˜ì—¬ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.  
> ê·¸ë ‡ë‹¤ë©´ `í¬íŠ¸ ê³„ì¸µ`ì—ì„œ `ë„ë©”ì¸ ê³„ì¸µ`ì„ í˜¸ì¶œí•  ë–„ `JPA ì—”í‹°í‹°`ëŠ” `ë„ë©”ì¸ ëª¨ë¸`ë¡œ ë³€í™˜ë˜ëŠ” ê³¼ì •ì„ ê±°ì³ì•¼ í•œë‹¤.  
> ê·¸ë¡œì¸í•´ ë§¤í•‘í•˜ëŠ” ê³¼ì •ë“±ì´ ì¡´ì¬í•´ ë¡œì§ì´ ë³µì¡í•´ ì§„ë‹¤.  
> ë˜í•œ JPAì˜ ë³€ê²½ ê°ì§€ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ ëœë‹¤.  
> 
> ê·¸ë ‡ê¸°ì— ë„ë©”ì¸ê³„ì¸µì˜ ìˆœìˆ˜ì„±ì„ ë„ˆë¬´ ê³ ì§‘í•˜ì§€ ì•Šê³  ìƒí™©ì— ë”°ë¼ ë„ë©”ì¸ ëª¨ë¸ê³¼ JPA ì—”í‹°í‹°ë¥¼ ë¶„ë¦¬í•˜ì§€ ì•Šê³  ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ë°©ë²•ì´ë‹¤.  
  